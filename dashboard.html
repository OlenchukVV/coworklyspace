<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç | CoworklySpace</title>
  <link rel="stylesheet" href="style/dashboard.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <script type="module" src="js/dashboard-auth.js" defer></script>
</head>
<body>
  <header class="dashboard-header">
    <div class="container header-content">
      <div class="logo">CoworklySpace</div>
      <button id="goBackBtn" class="logout-btn">‚Üê –ù–∞–∑–∞–¥</button>
    </div>
  </header>

  <main class="container">
    <section class="user-info">
      <h1>üëã –í—ñ—Ç–∞—î–º–æ, <span id="userEmail">–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É</span></h1>
      <p class="user-meta">–¶–µ —Ç–≤—ñ–π –æ—Å–æ–±–∏—Å—Ç–∏–π –∫–∞–±—ñ–Ω–µ—Ç. –¢—É—Ç —Ç–∏ –º–æ–∂–µ—à –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ —Å–≤–æ—ó–º –ø—Ä–æ—Ñ—ñ–ª–µ–º.</p>
    </section>

    <section class="booking-section">
      <h2>üìÖ –ú–æ—ó –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</h2>
      <div class="booking-cards" id="bookingList">
        <div class="card">
          <h3>üìç Freedom Hub</h3>
          <p>–î–∞—Ç–∞: 14.04.2025</p>
          <p>–ß–∞—Å: 10:00</p>
        </div>
        <div class="card">
          <h3>üè¢ Smart Office</h3>
          <p>–î–∞—Ç–∞: 08.04.2025</p>
          <p>–ß–∞—Å: 14:30</p>
        </div>
      </div>
    </section>

    <div class="profile-settings">
  <h2>‚öôÔ∏è –ü—Ä–æ—Ñ—ñ–ª—å</h2>
  <p><a href="#" id="changePasswordLink">–ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</a></p>
  <p><a href="#" id="updateEmailLink">–û–Ω–æ–≤–∏—Ç–∏ email</a></p>
  <button id="logoutBtn">–í–∏–π—Ç–∏ –∑ –∞–∫–∞—É–Ω—Ç–∞</button>

  <div id="passwordChangeSection" class="section" style="display: none;">
    <h3>üîí –ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</h3>
    <input type="password" id="newPassword" placeholder="–ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å">
    <button id="updatePasswordBtn">–ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å</button>
  </div>

  <div id="emailUpdateSection" class="section" style="display: none;">
    <h3>üìß –ó–º—ñ–Ω–∏—Ç–∏ Email</h3>
    <input type="email" id="newEmail" placeholder="–ù–æ–≤–∏–π email">
    <button id="updateEmailBtn">–ó–º—ñ–Ω–∏—Ç–∏ email</button>
  </div>
</div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 CoworklySpace. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ.</p>
    </div>
  </footer>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const list = document.getElementById("bookingList");
    const bookings = JSON.parse(localStorage.getItem("bookings") || "[]");

    bookings.forEach((b, index) => {
  const div = document.createElement("div");
  div.className = "card";
  div.innerHTML = `
    <h3>üìç ${b.name}</h3>
    <p>–î–∞—Ç–∞: ${b.date}</p>
    <p>–ß–∞—Å: ${b.time}</p>
    <button class="delete-booking" data-index="${index}">–í–∏–¥–∞–ª–∏—Ç–∏</button>
  `;
  list.appendChild(div);
});

// –û–±—Ä–æ–±–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
document.querySelectorAll(".delete-booking").forEach(btn => {
  btn.addEventListener("click", (e) => {
    const index = e.target.getAttribute("data-index");
    const bookings = JSON.parse(localStorage.getItem("bookings") || "[]");
    bookings.splice(index, 1);
    localStorage.setItem("bookings", JSON.stringify(bookings));
    location.reload(); // –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
  });
  });
  });
</script>
</body>
</html>
